<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dashboard | SkillSprint</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <!-- Styles -->
  <link rel="stylesheet" href="assets/css/variables.css" />
  <link rel="stylesheet" href="assets/css/dashboard.css" />
  <link rel="stylesheet" href="assets/css/onboarding.css" />
</head>

<body>
  <div class="dashboard-container">

    <!-- SIDEBAR -->
    <aside class="sidebar" id="sidebar">
      <div>
        <div class="sidebar-header">
          <div class="logo">SkillSprint</div>
          <button class="toggle-sidebar-btn" id="toggleSidebar">
            <i class="fa-solid fa-arrow-left"></i>
          </button>
        </div>

        <nav class="menu">
          <a href="dashboard.html" class="active">
            <i class="fa-solid fa-table-columns"></i>
            <span class="label">Dashboard</span>
          </a>
          <a href="wallet.html">
            <i class="fa-solid fa-wallet"></i>
            <span class="label">Wallet</span>
          </a>
          <a href="library.html">
            <i class="fa-solid fa-book"></i>
            <span class="label">Library</span>
          </a>
          <a href="achievements.html">
            <i class="fa-solid fa-award"></i>
            <span class="label">Achievements</span>
          </a>
          <a href="collaborations.html">
            <i class="fa-solid fa-users"></i>
            <span class="label">Collaborations</span>
          </a>
          <a href="live-history.html">
            <i class="fa-solid fa-clock-rotate-left"></i>
            <span class="label">History</span>
          </a>
          <a href="settings.html">
            <i class="fa-solid fa-gear"></i>
            <span class="label">Settings</span>
          </a>
        </nav>
      </div>

      <div class="ai-guide" id="aiGuide">
        <p>Your AI Guide</p>
        <button type="button">Open Chat</button>
      </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="main-content">
      <!-- Top Nav -->
      <header class="top-nav">
        <div class="search-bar">
          <i class="fa-solid fa-magnifying-glass search-icon"></i>
          <input type="text" placeholder="Search projects, tasks, or resources..." />
        </div>

        <div class="profile" id="userProfile" onclick="window.location.href='profile.html'">
          <span id="usernameTop" style="font-weight: 600; font-size: 0.9rem;">&nbsp;</span>
          <img src="assets/images/user-avatar.png" alt="User avatar" id="profileAvatar" />
        </div>
      </header>

      <!-- Main Layout Grid -->
      <div class="main-sections">

        <!-- LEFT COLUMN -->
        <section class="main-left">

          <!-- Welcome Card: Premium 3D Perspective Architecture -->
          <div class="welcome-card-perspective-container" style="margin-bottom: 2.5rem;">
            <div class="welcome-card">
              <div class="welcome-card-hologram"></div>
              <div class="welcome-card-spotlight"></div>
              <div class="welcome-card-bg-blobs welcome-card-blob"></div>
              <div class="text welcome-parallax-content">
                <h2>Hi, <span id="username">&nbsp;</span>!</h2>
                <p id="sprintGoalsText">Ready to sprint towards your goals today?</p>

                <!-- STREAKS CARD (MOVED INSIDE) -->
                <div class="streak-card nested-streak">
                  <div class="streak-header">
                    <div class="streak-fire"><i class="fa-solid fa-fire"></i></div>
                    <div class="streak-info">
                      <h3 id="streakCountText">&nbsp;</h3>
                      <p id="streakMotivationalText">Loading your journey...</p>
                    </div>
                  </div>
                  <div class="streak-progress-container">
                    <div id="streakProgressBar" class="streak-progress-bar"></div>
                  </div>
                </div>
              </div>
              <div class="img welcome-card-img-group">
                <img src="assets/images/coffee-penguin.png" alt="Welcome illustration" />
              </div>
            </div>
          </div>

          <h3 class="section-title"><i class="fa-solid fa-wallet"></i> Wallet Overview</h3>
          <!-- WALLET OVERVIEW (Now horizontal bar) -->
          <section class="wallet-horizontal">
            <a href="wallet.html" class="wallet-card" style="text-decoration: none; color: inherit;">
              <i class="fa-solid fa-wallet"></i>
              <div class="wallet-content">
                <div class="wallet-label">Credits Remaining</div>
                <div id="walletCredits" class="wallet-value">0h 0m</div>
              </div>
            </a>

            <a href="wallet.html" class="wallet-card" style="text-decoration: none; color: inherit;">
              <i class="fa-solid fa-arrow-trend-down" style="color: var(--danger);"></i>
              <div class="wallet-content">
                <div class="wallet-label">Credits Spent</div>
                <div id="walletSpent" class="wallet-value danger">0h 0m</div>
              </div>
            </a>

            <a href="wallet.html" class="wallet-card" style="text-decoration: none; color: inherit;">
              <i class="fa-solid fa-arrow-trend-up" style="color: var(--success);"></i>
              <div class="wallet-content">
                <div class="wallet-label">Credits Earned</div>
                <div id="walletEarned" class="wallet-value success">0h 0m</div>
              </div>
            </a>
          </section>

          <!-- Ongoing Tasks (Horizontal Scroll) -->
          <section class="ongoing-tasks">
            <h3><i class="fa-solid fa-fire"></i> Active Tasks</h3>

            <template id="taskCardTemplate">
              <div class="task-card">
                <div class="task-left">
                  <div class="task-card-header">
                    <div class="color-dot"></div>
                    <h4 class="task-title">Task Title</h4>
                  </div>
                  <p class="task-description">Description goes here...</p>
                </div>

                <div class="task-right">
                  <div class="task-progress-badge" style="background: #e8f5e9; color: #4caf50;">50%</div>
                </div>
              </div>
            </template>

            <div id="taskList" class="task-list">
              <!-- Skeleton Loaders -->
              <div class="skeleton skeleton-card"></div>
              <div class="skeleton skeleton-card"></div>
            </div>
          </section>

          <!-- Pending Invitations Section -->
          <section id="pendingInvitesSection" class="upcoming-sessions" style="display:none; margin-bottom: 2rem;">
            <h3><i class="fa-solid fa-envelope-open-text" style="color: var(--accent);"></i> Pending Invitations</h3>
            <div id="pendingInvitesList" class="session-list">
              <!-- Injected via JS -->
            </div>
          </section>

          <!-- Upcoming Sessions Section (NEW) -->
          <section class="upcoming-sessions">
            <h3><i class="fa-solid fa-video"></i> Upcoming Sessions</h3>

            <template id="sessionCardTemplate">
              <div class="session-card">
                <div class="session-left">
                  <div class="session-time-badge">
                    <span class="session-day">24</span>
                    <span class="session-month">Oct</span>
                  </div>
                  <div class="session-name-group">
                    <h4 class="session-title">Session Name</h4>
                    <p class="session-purpose">Purpose...</p>
                  </div>
                </div>

                <div class="session-right">
                  <div class="session-meta">
                    <span><i class="fa-solid fa-clock"></i> <span class="duration">60 min</span></span>
                    <span><i class="fa-solid fa-user-tie"></i> <span class="mentor">Mentor Name</span></span>
                  </div>
                  <button class="join-session-btn">Join</button>
                </div>
              </div>
            </template>

            <div id="sessionList" class="session-list">
              <!-- Skeleton Loaders -->
              <div class="skeleton skeleton-card"></div>
            </div>
          </section>

        </section>

        <!-- RIGHT COLUMN -->
        <aside class="right-sidebar">

          <!-- Notifications Section (Now TOP) -->
          <div class="notifications-container">
            <h3 style="display:flex; justify-content:space-between; align-items:center;">
              <span>
                <i class="fa-solid fa-bell" style="position:relative;">
                  <span class="notif-badge"
                    style="display:none; position:absolute; top:-2px; right:-2px; width:8px; height:8px; background:var(--danger); border-radius:50%;"></span>
                </i> Notifications
              </span>
              <button id="clearAllNotifsBtn"
                style="background:none; border:none; color:var(--text-muted); font-size:0.75rem; cursor:pointer; font-weight:500; transition:var(--transition);">Clear
                All</button>
            </h3>
            <div id="notifList" class="notif-list">
              <div class="skeleton-text" style="width:100%"></div>
              <div class="skeleton-text" style="width:90%"></div>
              <div class="skeleton-text" style="width:95%"></div>
            </div>
          </div>

          <!-- Quick Reminders Module (Now BOTTOM) -->
          <div class="reminders-container">
            <h3><i class="fa-solid fa-list-ul"></i> Quick Reminders</h3>

            <div class="reminder-input-group">
              <div class="reminder-inputs">
                <input type="text" id="newReminderInput" placeholder="Add a new reminder..." />
                <input type="time" id="newReminderTime" title="Due Time" />
              </div>
              <button class="add-reminder-btn" id="addReminderBtn">
                <i class="fa-solid fa-plus"></i>
              </button>
            </div>

            <div class="reminder-list" id="reminderList">
              <div class="skeleton-text" style="width:100%"></div>
              <div class="skeleton-text" style="width:100%"></div>
            </div>
          </div>

        </aside>

      </div>
    </main>
  </div>

  <!-- Notification Container (using existing toast.js) -->
  <div id="toast-container"></div>

  <!-- JS -->
  <script src="js/config.js"></script>
  <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
  <script src="js/toast.js"></script>
  <script src="js/custom-dialog.js"></script>
  <script src="js/dashboard.js"></script>
  <script src="js/onboarding.js"></script>
  <script src="js/notifications-global.js"></script>
  <script src="js/error-tracking.js"></script>
  <script src="js/bottomNav.js"></script>
</body>

</html>